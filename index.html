<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Interactive Dashboard — Pro</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --bg: #f5f8ff;
      --card: #ffffff;
      --muted: #6b7280;
      --primary: #4f46e5;
      --accent: #06b6d4;
      --text: #111;
      --border: #e6e9ef;
      --shadow: rgba(16, 24, 40, 0.08);
    }
    [data-theme="dark"] {
      --bg: #0f172a;
      --card: #1e293b;
      --muted: #94a3b8;
      --primary: #6366f1;
      --accent: #0ea5e9;
      --text: #f8fafc;
      --border: #334155;
      --shadow: rgba(0, 0, 0, 0.3);
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(180deg, var(--bg), var(--card));
      margin: 0;
      color: var(--text);
      transition: all 0.3s ease;
    }
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: var(--card);
      border: 2px solid var(--border);
      border-radius: 50px;
      padding: 8px 16px;
      cursor: pointer;
      box-shadow: 0 4px 12px var(--shadow);
      transition: all 0.3s ease;
    }
    .theme-toggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px var(--shadow);
    }
    .theme-toggle i {
      margin: 0 4px;
      font-size: 16px;
    }
    header {
      padding: 60px 24px 20px;
      text-align: center;
      position: relative;
    }
    .welcome-badge {
      display: inline-block;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      color: white;
      padding: 8px 20px;
      border-radius: 25px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 20px;
      box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
    }
    header h1 {
      font-size: 3rem;
      margin: 0 0 12px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 700;
    }
    header p {
      color: var(--muted);
      margin: 0 auto;
      font-size: 1.1rem;
      max-width: 600px;
      line-height: 1.6;
    }
    .container {
      max-width: 1100px;
      margin: 30px auto;
      padding: 0 20px;
    }
    .landing {
      display: flex;
      gap: 30px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 40px;
    }
    .card {
      background: var(--card);
      border-radius: 20px;
      padding: 30px;
      width: 320px;
      box-shadow: 0 8px 30px var(--shadow);
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid var(--border);
      position: relative;
      overflow: hidden;
    }
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 50px var(--shadow);
    }
    .card:hover::before {
      opacity: 1;
    }
    .card .icon {
      width: 60px;
      height: 60px;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin-bottom: 16px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: white;
      box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
    }
    .card h3 {
      margin: 0 0 12px;
      font-size: 1.3rem;
      font-weight: 600;
    }
    .card p {
      color: var(--muted);
      font-size: 0.95rem;
      margin: 0;
      line-height: 1.5;
    }
    .center {
      text-align: center;
      margin-top: 40px;
    }
    .start-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 18px 40px;
      border-radius: 50px;
      color: #fff;
      border: none;
      font-weight: 600;
      cursor: pointer;
      font-size: 1.1rem;
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .start-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }
    .start-btn:hover::before {
      left: 100%;
    }
    .start-btn:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.6);
    }
    .start-btn:active {
      transform: translateY(-2px) scale(1.02);
    }
    .contact-icon {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--accent), var(--primary));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(6, 182, 212, 0.4);
      transition: all 0.3s ease;
      z-index: 999;
    }
    .contact-icon:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 25px rgba(6, 182, 212, 0.5);
    }
    .page {
      display: none;
      max-width: 900px;
      margin: 26px auto;
    }
    .page.active {
      display: block;
    }
    .card-panel {
      background: var(--card);
      padding: 24px;
      border-radius: 16px;
      box-shadow: 0 8px 30px var(--shadow);
      border: 1px solid var(--border);
    }
    .chat-wrap {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }
    .messages {
      height: 360px;
      overflow: auto;
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .bubble {
      max-width: 85%;
      padding: 12px 14px;
      border-radius: 12px;
      line-height: 1.5;
    }
    .bubble.user {
      align-self: flex-end;
      background: linear-gradient(90deg, #dbeafe, #bfdbfe);
      color: #083344;
    }
    .bubble.ai {
      align-self: flex-start;
      background: #f3f4f6;
      color: #182137;
    }
    .chat-controls {
      display: flex;
      gap: 12px;
      margin-top: 8px;
    }
    .chat-controls input {
      flex: 1;
      padding: 12px 16px;
      border-radius: 12px;
      border: 2px solid var(--border);
      background: var(--card);
      color: var(--text);
      transition: all 0.3s ease;
    }
    .chat-controls input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
    }
    footer {
      margin: 30px 0;
      text-align: center;
      color: var(--muted);
      font-size: 0.95rem;
    }
    /* Contact Form Styles */
    .contact-container {
      background: var(--card);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 10px 40px var(--shadow);
      border: 1px solid var(--border);
      max-width: 600px;
      margin: 0 auto;
    }
    .contact-header {
      text-align: center;
      margin-bottom: 40px;
    }
    .contact-header h2 {
      font-size: 2rem;
      margin: 0 0 12px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 700;
    }
    .contact-header p {
      color: var(--muted);
      font-size: 1rem;
      margin: 0;
      line-height: 1.6;
    }
    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }
    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .form-group label {
      font-weight: 600;
      color: var(--text);
      font-size: 0.95rem;
    }
    .form-group input,
    .form-group textarea {
      padding: 16px 20px;
      border: 2px solid var(--border);
      border-radius: 12px;
      background: var(--card);
      color: var(--text);
      font-size: 1rem;
      font-family: 'Poppins', sans-serif;
      transition: all 0.3s ease;
      resize: vertical;
    }
    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
      transform: translateY(-2px);
    }
    .form-group textarea {
      min-height: 120px;
      line-height: 1.6;
    }
    .form-actions {
      display: flex;
      gap: 16px;
      justify-content: center;
      margin-top: 20px;
    }
    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 16px 32px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
      position: relative;
      overflow: hidden;
    }
    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }
    .btn-primary:hover::before {
      left: 100%;
    }
    .btn-primary:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 12px 30px rgba(102, 126, 234, 0.5);
    }
    .btn-secondary {
      background: transparent;
      color: var(--muted);
      border: 2px solid var(--border);
      padding: 16px 32px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .btn-secondary:hover {
      background: var(--border);
      color: var(--text);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px var(--shadow);
    }
    .btn-primary i,
    .btn-secondary i {
      margin-right: 8px;
    }
    
    /* Additional Button Styles */
    button {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Poppins', sans-serif;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(79, 70, 229, 0.3);
    }
    button.small {
      padding: 8px 16px;
      font-size: 0.9rem;
      border-radius: 6px;
    }
    button.secondary {
      background: transparent;
      color: var(--muted);
      border: 2px solid var(--border);
    }
    button.secondary:hover {
      background: var(--border);
      color: var(--text);
    }

    @media (max-width:820px) {
      .tools {
        grid-template-columns: 1fr;
      }
      .messages {
        height: 260px;
      }
      .card {
        width: 280px;
        padding: 24px;
      }
      header h1 {
        font-size: 2.5rem;
      }
      .contact-container {
        padding: 30px 20px;
        margin: 0 20px;
      }
      .form-actions {
        flex-direction: column;
        align-items: center;
      }
      .btn-primary,
      .btn-secondary {
        width: 100%;
        max-width: 280px;
      }
    }
  </style>
</head>
<body>
  <div class="theme-toggle" onclick="toggleTheme()">
    <i class="fas fa-sun" id="theme-icon"></i>
    <span id="theme-text">Light</span>
  </div>

  <header>
    <div class="welcome-badge">
      <i class="fas fa-sparkles"></i> Welcome to the Future of AI
    </div>
    <h1>AI Interactive Dashboard</h1>
    <p>Experience the power of artificial intelligence with our comprehensive suite of tools. Chat with AI, analyze images, and enhance your productivity with smart automation.</p>
  </header>

  <div class="container">
    <div id="landing" class="landing">
      <div class="card" onclick="openDashboard('chat')">
        <div class="icon"><i class="fas fa-comments"></i></div>
        <h3>Chat with AI</h3>
        <p>Ask questions. Follow-up context maintained automatically.</p>
      </div>
      <div class="card" onclick="openDashboard('image')">
        <div class="icon"><i class="fas fa-image"></i></div>
        <h3>Image Analysis</h3>
        <p>Upload an image and get detailed insights: Description, Objects, Visual Cues, and Possible Applications.</p>
      </div>
      <div class="card" onclick="openDashboard('tools')">
        <div class="icon"><i class="fas fa-tools"></i></div>
        <h3>Smart Tools</h3>
        <p>Summarizer, Grammar Correction, and more productivity tools.</p>
      </div>
    </div>

    <div class="contact-icon" onclick="scrollToContact()" title="Contact Us">
      <i class="fas fa-envelope"></i>
    </div>

    <div class="center">
      <button class="start-btn" onclick="openDashboard()">Start</button>
    </div>

    <div id="dashboard" class="page">
      <div class="card-panel">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 style="margin:0">Tools</h2>
          <div>
            <button onclick="showSection('chat')" class="small">Chat</button>
            <button onclick="showSection('image')" class="small">Image</button>
            <button onclick="showSection('tools')" class="small">More Tools</button>
          </div>
        </div>

        <!-- Chat -->
        <div id="chat" class="tool-section" style="margin-top:18px">
          <div class="chat-wrap">
            <div class="messages" id="messages"></div>
            <div class="chat-controls">
              <input id="chatInput" placeholder="Ask me anything" />
              <button onclick="sendChat()">Send</button>
            </div>
          </div>
        </div>

        <!-- Image -->
        <div id="image" class="tool-section" style="margin-top:18px;display:none">
          <div class="tools">
            <div>
              <h3>Upload Image</h3>
              <div class="card-panel">
                <input id="imageFile" type="file" accept="image/*" />
                <button onclick="sendImage()"><i class="fas fa-search"></i> Analyze Image</button>
              </div>
            </div>
            <div>
              <h3>Result</h3>
              <div class="card-panel result" id="imageResult">No image analyzed yet.</div>
            </div>
          </div>
        </div>

        <!-- Tools -->
        <div id="tools" class="tool-section" style="margin-top:18px;display:none">
          <div class="tools">
            <div>
              <h3>Summarizer</h3>
              <textarea id="summarizeText" rows="6" style="width:100%"></textarea>
              <button onclick="doSummarize()">Summarize</button>
              <div id="summaryResult" class="result">Summary will appear here...</div>
            </div>
            <div>
              <h3>Grammar & Clarity</h3>
              <textarea id="correctText" rows="6" style="width:100%"></textarea>
              <button onclick="doCorrect()">Fix & Enhance</button>
              <div id="correctResult" class="result">Corrected text will appear here...</div>
            </div>
          </div>
        </div>
      </div>

      <div style="margin-top:18px;text-align:right">
        <button class="secondary" onclick="scrollToContact()">Contact</button>
        <button class="secondary" onclick="backHome()">Home</button>
      </div>
    </div>

    <!-- Contact -->
    <div id="contact" class="page" style="display:none">
      <div class="contact-container">
        <div class="contact-header">
          <h2>Contact / Feedback</h2>
          <p>We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
        </div>
        <form id="contactForm" action="https://formspree.io/f/mblpgyya" method="POST" class="contact-form">
          <div class="form-group">
            <label for="contact-name">Your Name</label>
            <input id="contact-name" name="name" type="text" placeholder="Enter your full name" required />
          </div>
          <div class="form-group">
            <label for="contact-email">Email Address</label>
            <input id="contact-email" name="email" type="email" placeholder="Enter your email address" required />
          </div>
          <div class="form-group">
            <label for="contact-message">Message</label>
            <textarea id="contact-message" name="message" rows="6" placeholder="Tell us what's on your mind..." required></textarea>
          </div>
          <div class="form-actions">
            <button type="submit" class="btn-primary">
              <i class="fas fa-paper-plane"></i> 
              Send Message
            </button>
            <button type="button" onclick="backHome()" class="btn-secondary">
              <i class="fas fa-arrow-left"></i> 
              Back
            </button>
          </div>
        </form>
      </div>
    </div>

    <footer>Enjoy Using the Tools — Monishwar Reddy.</footer>
  </div>

  <script>
    function toggleTheme(){
      const html = document.documentElement;
      const icon = document.getElementById('theme-icon');
      const text = document.getElementById('theme-text');
      if(html.getAttribute('data-theme') === 'dark'){
        html.removeAttribute('data-theme');
        icon.className = 'fas fa-sun';
        text.textContent = 'Light';
      } else {
        html.setAttribute('data-theme', 'dark');
        icon.className = 'fas fa-moon';
        text.textContent = 'Dark';
      }
    }

    function openDashboard(section='chat'){
      document.getElementById('landing').style.display='none';
      document.getElementById('dashboard').classList.add('active');
      showSection(section);
    }

    function backHome(){
      document.getElementById('dashboard').classList.remove('active');
      document.getElementById('contact').style.display='none';
      document.getElementById('landing').style.display='flex';
    }

    function showSection(id){
      ['chat','image','tools'].forEach(s=>{
        document.getElementById(s).style.display=(s===id?'block':'none');
      });
    }

    function scrollToContact(){
      document.getElementById('contact').style.display='block';
      document.getElementById('landing').style.display='none';
      document.getElementById('dashboard').classList.remove('active');
      window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});
    }

    async function sendChat(){
      const input=document.getElementById('chatInput');
      const text=input.value.trim();
      if(!text)return;
      appendMessage('user',text);
      input.value='';
      appendMessage('ai','Thinking...');
      try{
        const res=await fetch('/api/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text})});
        const data=await res.json();
        replaceLastAI(data.ok?data.reply:('Error: '+(data.error||'unknown')));
      }catch(e){
        replaceLastAI('Network error: '+e.message);
      }
    }

    function appendMessage(role,text){
      const cont=document.getElementById('messages');
      const div=document.createElement('div');
      div.className='bubble '+(role==='user'?'user':'ai');
      div.innerText=text;
      cont.appendChild(div);
      cont.scrollTop=cont.scrollHeight;
    }

    function replaceLastAI(text){
      const cont=document.getElementById('messages');
      const nodes=cont.querySelectorAll('.bubble.ai');
      if(nodes.length){nodes[nodes.length-1].innerText=text;}
      else{appendMessage('ai',text);}
      cont.scrollTop=cont.scrollHeight;
    }

    async function doSummarize(){
      const text=document.getElementById('summarizeText').value.trim();
      if(!text)return alert('Enter text to summarize');
      document.getElementById('summaryResult').innerText='Summarizing...';
      try{
        const res=await fetch('/api/summarize',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text})});
        const data=await res.json();
        document.getElementById('summaryResult').innerText=data.ok?data.summary:'Error: '+data.error;
      }catch(e){
        document.getElementById('summaryResult').innerText='Network error: '+e.message;
      }
    }

    async function doCorrect(){
      const text=document.getElementById('correctText').value.trim();
      if(!text)return alert('Enter text to correct');
      document.getElementById('correctResult').innerText='Fixing...';
      try{
        const res=await fetch('/api/correct',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text})});
        const data=await res.json();
        document.getElementById('correctResult').innerText=data.ok?data.corrected:'Error: '+data.error;
      }catch(e){
        document.getElementById('correctResult').innerText='Network error: '+e.message;
      }
    }

    async function sendImage(){
      const input=document.getElementById('imageFile');
      const file=input.files[0];
      if(!file)return alert('Please upload an image first');
      document.getElementById('imageResult').innerText='Analyzing image deeply...';
      const fd=new FormData();
      fd.append('image',file);
      try{
        const res=await fetch('/api/image',{method:'POST',body:fd});
        const data=await res.json();
        document.getElementById('imageResult').innerText=data.ok?data.result:'Error: '+data.error;
      }catch(e){
        document.getElementById('imageResult').innerText='Network error: '+e.message;
      }
    }
  </script>
</body>
</html>
